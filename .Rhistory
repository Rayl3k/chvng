install.packages("dplyr")
install.packages("ggplot2")
install.packages("tidyr")
install.packages("googlesheets)")
install.packages("googlesheets")
install.packages("tidyr")
setwd("~/GitHub/chvng")
source("processData.R")
loadData <- function() {
# Auth into drive
gs_auth()
# Read teams current information
ss <<- gs_url("https://docs.google.com/spreadsheets/d/1_Vu1pKEjHWTlYiHPUW5GC5t4XTsHxs0Ni4Sjr44oAqk")
teams <<- gs_read_csv(ss, "teams")
ranking <<- gs_read_csv(ss, "ranking")
details <<- gs_read_csv(ss, "details")
}
loadData()
View(ranking)
View(teams)
View(details)
View(teams)
library(dplyr)
str(details)
str(details)
dd <- filter(details, team==1)
View(dd)
dd <- filter(details, team==1) %>% mutate(diff = gf-gc)
View(dd)
?left_join
dd <- left_join(dd, teams, by = c("team" = "id"))
dd <- left_join(dd, teams, by = c("versus" = "id"))
length(names(dd))
names(dd)[12] <- "localName"
names(dd)[13] <- "visitName"
names()
names(dd)
ggplot(dd, aes(x=visitName, y = diff)) + geom_bar()
library(ggplot)
library(ggplot2)
ggplot(dd, aes(x=visitName, y = diff)) + geom_bar()
ggplot(dd, aes(x=versus, y=diff)) + geom_bar()
ggplot(dd, aes(x=versus, y=diff)) + geom_bar(stat="identity")
ggplot(dd, aes(x=visitName, y=diff)) + geom_bar(stat="identity")
ggplot(dd, aes(x=visitName, y=diff)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-20, 20),breaks=c(-20, -15, -10, -5, 0, 5, 10, 15, 20))
ggplot(dd, aes(x=visitName, y=diff, colour=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-20, 20),breaks=c(-20, -15, -10, -5, 0, 5, 10, 15, 20))
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-20, 20),breaks=c(-20, -15, -10, -5, 0, 5, 10, 15, 20))
dd <- filter(details, team %in% c(1, 12)) %>% mutate(diff = gf-gc)
dd <- left_join(dd, teams, by = c("team" = "id"))
dd <- left_join(dd, teams, by = c("versus" = "id"))
names(dd)[12] <- "localName"
names(dd)[13] <- "visitName"
View(dd)
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-20, 20),breaks=c(-20, -15, -10, -5, 0, 5, 10, 15, 20))
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(position="identity") +
scale_y_continuous(limits = c(-20, 20),breaks=c(-20, -15, -10, -5, 0, 5, 10, 15, 20))
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-20, 20),breaks=c(-20, -15, -10, -5, 0, 5, 10, 15, 20))
View(dd)
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-20, 20),breaks=c(-20, -15, -10, -5, 0, 5, 10, 15, 20)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
dd[1, 13] <- dd[4, 13]
View(dd)
ggplot(dd, aes(x=visitName, y=diff, fill=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
View(dd)
ggplot(dd, aes(x=visitName, y=diff, fill=localName), position=position_dodge()) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, fill=localName, group=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, group=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, fill=localName, group=localName)) + geom_bar(stat="identity") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, fill=localName, group=localName)) + geom_bar(stat="identity", position="fill") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
ggplot(dd, aes(x=visitName, y=diff, fill=localName, group=localName)) + geom_bar(stat="identity", position="dodge") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
dd <- filter(details, team %in% c(1, 12)) %>% mutate(diff = gf-gc)
dd <- left_join(dd, teams, by = c("team" = "id"))
dd <- left_join(dd, teams, by = c("versus" = "id"))
names(dd)[12] <- "localName"
names(dd)[13] <- "visitName"
ggplot(dd, aes(x=visitName, y=diff, fill=localName, group=localName)) + geom_bar(stat="identity", position="dodge") +
scale_y_continuous(limits = c(-10, 10)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_hline(yintercept=0)
source("plottingData.R")
resultsComparison(1, 12)
